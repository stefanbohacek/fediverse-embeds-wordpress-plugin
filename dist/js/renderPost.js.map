{"version":3,"file":"renderPost.js","names":["renderPost","post","container","document","querySelector","concat","instance","post_id","postHasLabels","postIsDeleted","postIsUpdated","accountIsBot","accountIsOwner","ftf_fediverse_embeds","config","show_post_labels","post_data","account","roles","accountRoles","map","role","name","includes","bot","__status","edited_at","postText","content","postUrl","url","renderedPostHTML","avatar_static","display_name","username","window","blog_url","btoa","card","media_attachments","length","forEach","media","index","type","alt_text","width","height","cardSource","URL","hostname","html","image","title","description","poll","options","voteCounts","option","votes_count","voteCountMax","Math","max","votesTotal","reduce","total","num","pollOptionsCount","votesPortion","round","toLocaleString","expired","postDate","Date","created_at","postDateDate","toLocaleDateString","navigator","language","month","year","day","postDateTime","toLocaleTimeString","editDate","editDateText","editDateDate","editDateTime","show_metrics","reblogs_count","favourites_count","replies_count","renderedPost","createElement","className","innerHTML","lastUrl","entities","urls","extended_entities","dataset","urlAttachment","expanded_url","urlAttachmentProcessed","parentNode","replaceChild","id"],"sources":["renderPost.js"],"sourcesContent":["const renderPost = (post, container) => {\n  if (!container){\n    container = document.querySelector(`blockquote[data-instance=\"${ post.instance }\"][data-post-id=\"${ post.post_id }\"]`)\n  }\n\n  // post.post_data = JSON.parse(post.post_data);\n\n  // console.log('post.post_data', post.post_data);\n  // console.log('debug:renderPost', {data, container});\n\n  // if (post.post_data.post_id === '123456789'){\n  // console.log('debug:renderPost', data);\n  // }\n\n  let postHasLabels = false;\n  let postIsDeleted = false;\n  let postIsUpdated = false;\n\n  let accountIsBot = false;\n  let accountIsOwner = false;\n\n  if (ftf_fediverse_embeds.config.show_post_labels && post.post_data.account.roles){\n    const accountRoles = post.post_data.account.roles.map(role => role.name);\n    if (accountRoles.includes('Owner')){\n      accountIsOwner = true;\n      postHasLabels = true;\n    }\n  }\n\n  if (post.post_data.account.bot){\n    accountIsBot = true;\n    postHasLabels = true;\n  }\n\n  if (post.__status){\n    if (post.__status === 'deleted'){\n      postIsDeleted = true;\n      postHasLabels = true;\n    }\n  }\n\n  if (post.post_data.edited_at){\n    postIsUpdated = true;\n    postHasLabels = true;\n  }\n\n  let postText = post.post_data.content,\n      postUrl = post.post_data.url,\n      entities = null,\n      renderedPostHTML = `\n        <div class=\"card w-100\">\n          <div class=\"post-body-wrapper card-body pt-4 pb-0\">\n            <div class=\"fediverse-post-labels position-absolute top-0 end-0 mt-1 me-1\">\n      `;\n\n  if (postHasLabels){\n    renderedPostHTML += `<span class=\"badge rounded-pill text-bg-light\">`;\n\n    if (postIsUpdated){\n      renderedPostHTML += `\n      <span\n        class=\"p-0\"\n        title=\"This post was updated.\"\n        aria-label=\"Updated post\"\n      >üìù</span>\n    `\n    }\n    if (postIsDeleted){\n      renderedPostHTML += `\n      <span\n        class=\"p-0\"\n        title=\"This post was deleted.\"\n        aria-label=\"Deleted post\"\n      >üóëÔ∏è</span>\n    `\n    }\n\n    if (accountIsBot){\n      renderedPostHTML += `\n      <span\n        class=\"p-0\"\n        title=\"This is a bot account.\"\n        aria-label=\"Bot account\"\n      >ü§ñ</span>\n    `\n    }\n\n    if (accountIsOwner){\n      renderedPostHTML += `\n      <span\n        class=\"p-0\"\n        title=\"This is an admin account.\"\n        aria-label=\"Admin account\"\n      >üëë</span>\n    `\n    }\n\n    renderedPostHTML += `</span>`;\n  }\n        \n  renderedPostHTML += `\n    </div>\n    <div class=\"card-text\">\n    <div class=\"row no-gutters mb-1\">\n  `;\n\n  // console.log('debug:post', post);\n\n  if (post.post_data.account.avatar_static){\n    renderedPostHTML += `\n      <div class=\"fediverse-post-profile-image-wrapper col-2 col-sm-2 col-md-2 p-2 pt-0 ps-sm-1 pe-sm-1 ps-md-2 pe-md-1 ps-lg-3 pe-lg-1\">\n        <a href=\"${ post.post_data.account.url }\" class=\"text-decoration-none\">\n          <img\n            title=\"Profile image\"\n            alt=\"Profile image of @${ post.post_data.account.display_name || post.post_data.account.username }\"\n            loading=\"lazy\"\n            class=\"post-author-image rounded-circle border\"\n            width=\"48\"\n            height=\"48\"\n            src=\"${window.ftf_fediverse_embeds.blog_url}/wp-json/ftf/media-proxy?url=${ window.btoa(post.post_data.account.avatar_static) }\"\n          >\n        </a>\n      </div>`;\n  }\n  \n  renderedPostHTML += `\n    <div class=\"post-author ${ \n      post.post_data.account.avatar_static ? 'col-10 col-sm-10 col-md-10 pl-2' : 'col-12 col-sm-12 col-md-12'\n    } pb-3\">\n      <p class=\"font-weight-bold mb-0 mt-0\">\n        <a\n          class=\"text-dark text-decoration-none\"\n          href=\"${ post.post_data.account.url }\"\n        >${ post.post_data.account.display_name }</a>\n      </p>\n      <p class=\"mb-1 mb-md-2 mt-0 fs-6\">\n        <a class=\"text-muted text-decoration-none\" href=\"${ post.post_data.account.url }\">\n          @${ post.post_data.account.username}@${ post.instance }\n        </a>\n      </p>\n  </div>\n  </div>\n  <div class=\"post-body\">`;\n\n  if (post.post_data.card){\n    // console.log('debug:post.post_data.card', post.post_data.card);\n  }\n  \n  if (post.post_data.media_attachments && post.post_data.media_attachments.length){\n    postText += `<div data-media-length=\"${ post.post_data.media_attachments.length }\" class=\"post-media row mt-3 no-gutters\">`;\n    \n    post.post_data.media_attachments.forEach((media, index) => {\n      // console.log('debug:media', media);\n\n      if (post.post_data.media_attachments.length === 1){\n        postText += `<div data-media-type=\"${ media.type }\" class=\"text-center col-sm-12 col-md-12 col-lg-12\">`;\n      } else if (post.post_data.media_attachments.length === 3){\n        if (index === 2){\n          postText += `<div data-media-type=\"${ media.type }\" class=\"text-center col-sm-12 col-md-12 col-lg-12\">`;\n        } else {\n          postText += `<div data-media-type=\"${ media.type }\" class=\"text-center col-sm-12 col-md-6 col-lg-6\">`;\n        }\n      } else if (post.post_data.media_attachments.length > 1 && post.post_data.media_attachments.length < 5){\n        postText += `<div data-media-type=\"${ media.type }\" class=\"text-center col-sm-12 col-md-6 col-lg-6\">`;\n      } else {\n        postText += `<div data-media-type=\"${ media.type }\" class=\"text-center col-sm-12 col-md-3 col-lg-3\">`;\n      }\n      \n      if (media.type === 'gifv'){\n        postText += `<video class=\"w-100 mt-0\" controls loop>\n          <source src=\"${window.ftf_fediverse_embeds.blog_url}/wp-json/ftf/media-proxy?url=${ window.btoa(media.url) }\" type=\"video/mp4\">\n        </video>`;\n\n        // <source src=\"${ media.url }\" type=\"video/mp4\">\n        // <source src=\"${window.ftf_fediverse_embeds.blog_url}/wp-json/ftf/media-proxy?url=${ window.btoa(media.url) }\" type=\"video/mp4\">\n      } else if (media.type === 'video'){\n        if (media.url){\n          // src=\"${window.ftf_fediverse_embeds.blog_url}/wp-json/ftf/media-proxy?url=${ window.btoa(media.url) }\"\n          // src=\"${ media.url }\"\n\n          postText += `<video class=\"w-100 mt-0\" controls loop>\n            <source\n              src=\"${window.ftf_fediverse_embeds.blog_url}/wp-json/ftf/media-proxy?url=${ window.btoa(media.url) }\"\n              type=\"video/mp4\"\n            >\n            </video>`\n        }\n      } else if (media.type === 'audio'){\n        if (media.url){\n          // src=\"${window.ftf_fediverse_embeds.blog_url}/wp-json/ftf/media-proxy?url=${ window.btoa(media.url) }\"\n          // src=\"${ media.url }\"\n\n          postText += `\n            <audio\n              controls\n              src=\"${window.ftf_fediverse_embeds.blog_url}/wp-json/ftf/media-proxy?url=${ window.btoa(media.url) }\"\n              class=\"w-100 mt-3 mb-3\"\n            ></audio>\n          `;\n        }\n\n      } else if (media.type === 'image'){\n        postText += `<a href=\"${ postUrl }\" target=\"_blank\">\n          <img\n            alt=\"${ media.alt_text || '' }\"\n            loading=\"lazy\"\n            width=\"${ media.width }\"\n            height=\"${ media.height }\"\n            class=\"w-100 rounded border mb-3\"\n            src=\"${window.ftf_fediverse_embeds.blog_url}/wp-json/ftf/media-proxy?url=${ window.btoa(media.url) }\"\n          >\n        </a>`;\n      }\n      \n      postText += '</div>';\n    });\n    \n    postText += '</div>';\n  } else if (post.post_data.card){\n    let cardSource;\n\n    if (post.post_data.card.url){\n      cardSource = (new URL(post.post_data.card.url));\n      cardSource = cardSource.hostname;\n    }\n\n    if (post.post_data.card.html){\n      postText += `<div class=\"ratio ratio-16x9\">${ post.post_data.card.html}</div>`;\n    } else if (post.post_data.card.image){\n      postText += `\n      <div class=\"card mb-4\">\n        <a href=\"${ post.post_data.card.url }\">\n          <img src=\"${window.ftf_fediverse_embeds.blog_url}/wp-json/ftf/media-proxy?url=${ window.btoa(post.post_data.card.image) }\" class=\"card-img-top\" alt=\"...\">\n        </a>\n        <div class=\"card-body pb-1\">\n          <h5 class=\"card-title\">\n            <a href=\"${ post.post_data.card.title }\">\n              ${ post.post_data.card.title }\n            </a>\n          </h5>\n          <p class=\"card-text\"><small>${ post.post_data.card.description }</small></p>\n        </div>\n        <div class=\"card-footer pb-3 pt-0\">\n          <small class=\"text-muted\">\n            ${ cardSource}\n          </div>\n      </div>\n      `\n    } else {\n      postText += `\n      <div class=\"card mb-4\">\n      <div class=\"card-body pb-1\">\n          <h5 class=\"card-title\">\n            <a href=\"${ post.post_data.card.title }\">\n              ${ post.post_data.card.title }\n            </a>\n          </h5>\n          <p class=\"card-text\"><small>${ post.post_data.card.description }</small></p>\n        </div>\n        <div class=\"card-footer pb-3 pt-0\">\n          <small class=\"text-muted\">\n            ${ cardSource}\n          </div>\n      </div>\n      `\n    }\n  }\n  \n  if (post.post_data.poll){\n    postText += '<div class=\"mt-0 post-poll-results\">';\n\n    if (post.post_data.poll.options && post.post_data.poll.options.length){\n        \n      const voteCounts = post.post_data.poll.options.map((option) => {\n        return option.votes_count;\n      });\n      \n      const voteCountMax = Math.max(...voteCounts);\n      const votesTotal = voteCounts.reduce((total, num) => {\n        return total + num;\n      });\n      \n      postText += `<div class=\"row\">`;\n\n      const pollOptionsCount = post.post_data.poll.options;\n\n      post.post_data.poll.options.forEach((option, index) => {\n        const votesPortion = option.votes_count/votesTotal * 100;\n        postText += `\n          <div class=\"col-9\">\n            <p class=\"mb-2\">${ option.title }</p>\n          </div>\n          <div class=\"col-3 text-end\">\n            <span class=\"w-100\">${ Math.round(option.votes_count/votesTotal * 100) }%</span>\n          </div>\n          <div class=\"col-12\">\n            <div\n              class=\"progress ${ \n                index === pollOptionsCount - 1 ? '' : ' mb-3 '\n              }\"\n            >\n              <div class=\"progress-bar ${ \n                option.votes_count === voteCountMax ? 'bg-primary' : ''\n              }\" \n                role=\"progressbar\" \n                style=\"width: ${ votesPortion }%\" \n                aria-valuenow=\"${ votesPortion }\" \n                aria-valuemin=\"0\" \n                aria-valuemax=\"100\">\n              </div>\n            </div>\n          </div>\n      `;\n      });\n      postText += `<div class=\"col-12 mt-3\">\n        <p class=\"text-muted\">\n          <small>\n            ${ votesTotal.toLocaleString() } votes | ${ post.post_data.poll.expired ? 'Closed' : 'Open'}\n          </small>\n        </p>\n      </div>`;\n    }    \n\n    postText += '</div></div>';\n  }\n  \n  const postDate = new Date(post.post_data.created_at);\n  const postDateDate = postDate.toLocaleDateString(navigator.language, { month: 'long', year: 'numeric', day: 'numeric' });\n  const postDateTime = postDate.toLocaleTimeString();\n  \n  let editDate, editDateText;\n\n  if (postIsUpdated){\n    editDate = new Date(post.post_data.edited_at);    \n    const editDateDate = editDate.toLocaleDateString(navigator.language, { month: 'long', year: 'numeric', day: 'numeric' });\n    const editDateTime = editDate.toLocaleTimeString();\n    editDateText = `Updated on ${ editDateDate } at ${ editDateTime }`\n  }\n  \n  renderedPostHTML += postText + `</div>\n      </div>\n    </div>\n  <div class=\"card-footer pb-3\"><small>`;\n  \n  // if (!container){\n    if (ftf_fediverse_embeds.config.show_metrics){\n      renderedPostHTML += `\n        <small>\n          <span class=\"post-icon\" role=\"img\" aria-label=\"Reposts\">üîÅ</span>\n          <span class=\"text-muted\">${ post.post_data.reblogs_count.toLocaleString() }</span>\n          \n          <span class=\"post-icon\" role=\"img\" aria-label=\"Likes\">‚ù§Ô∏è</span>\n          <span class=\"text-muted\">${ post.post_data.favourites_count.toLocaleString() }</span>\n          \n          <span class=\"post-icon\" role=\"img\" aria-label=\"Replies\">üí¨</span>\n          <span class=\"text-muted\">${ post.post_data.replies_count.toLocaleString() }</span>\n        </small>\n        &centerdot; `;\n    }\n  // }\n\n  renderedPostHTML += `<a class=\"text-muted\" href=\"${ postUrl }\" target=\"_blank\">\n    <small title=\"${ editDate ? editDateText : '' }\">\n      ${ postDateDate } at ${ postDateTime }${ editDate ? '*' :'' }\n    </small>\n  </a>`;\n  \n  renderedPostHTML += '</small></div></div>';\n  \n  let renderedPost = document.createElement('div');\n  renderedPost.className = `fediverse-post fediverse-post-rendered w-100 mt-4 mb-4`;\n\n  renderedPost.innerHTML = renderedPostHTML;\n  \n  let lastUrl = '';\n  \n  if (post.entities && post.entities.urls && post.entities.urls.length){\n    lastUrl = post.entities.urls[post.entities.urls.length - 1];\n  }\n  \n  if ((post.post_data.media_attachments && post.post_data.media_attachments.length) || post.extended_entities && post.extended_entities.media && post.extended_entities.media.length){\n    lastUrl = '';\n  }\n  \n  if (lastUrl){\n    renderedPost.dataset.urlAttachment = lastUrl.expanded_url;\n    renderedPost.dataset.urlAttachmentProcessed = 'false';\n  }\n  \n  if (container){\n    const postContainer = container.querySelector('.post-body a:last-of-type');\n    container.parentNode.replaceChild(renderedPost, container);\n  } else {\n    const post = document.querySelector(`[data-post-id=\"${ post.id }\"]`);\n    post.parentNode.replaceChild(renderedPost, post);\n  }\n\n  return renderedPost;\n};\n\nexport { renderPost };\n"],"mappings":"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"}