{"version":3,"file":"renderPost.js","names":["renderPost","post","container","document","querySelector","concat","instance","post_id","postHasLabels","postIsDeleted","postIsUpdated","accountIsBot","accountIsOwner","renderedPost","createElement","renderedPostHTML","ftf_fediverse_embeds","config","deleted_posts","post_data","account","show_post_labels","roles","accountRoles","map","role","name","includes","bot","__status","className","username","edited_at","postText","content","postUrl","url","emojis","forEach","emoji","replaceAll","shortcode","window","blog_url","btoa","avatar_static","display_name","card","media_attachments","length","media","index","type","altText","alt_text","description","replace","altTextBadge","width","height","cardSource","URL","hostname","html","image","title","poll","options","voteCounts","option","votes_count","voteCountMax","Math","max","votesTotal","reduce","total","num","pollOptionsCount","votesPortion","votesPercentage","multiple","round","voters_count","expired","toLocaleString","postDate","Date","created_at","postDateDate","toLocaleDateString","navigator","language","month","year","day","postDateTime","toLocaleTimeString","editDate","editDateText","editDateDate","editDateTime","show_metrics","reblogs_count","favourites_count","replies_count","innerHTML","lastUrl","entities","urls","extended_entities","dataset","urlAttachment","expanded_url","urlAttachmentProcessed","parentNode","replaceChild","id"],"sources":["renderPost.js"],"sourcesContent":["const renderPost = (post, container) => {\r\n  if (!container){\r\n    container = document.querySelector(`blockquote[data-instance=\"${ post.instance }\"][data-post-id=\"${ post.post_id }\"]`)\r\n  }\r\n\r\n  // post.post_data = JSON.parse(post.post_data);\r\n\r\n  // console.log('post.post_data', post.post_data);\r\n  // console.log('debug:renderPost', {data, container});\r\n\r\n  // if (post.post_data.post_id === '123456789'){\r\n  // console.log('debug:renderPost', data);\r\n  // }\r\n\r\n  let postHasLabels = false;\r\n  let postIsDeleted = false;\r\n  let postIsUpdated = false;\r\n\r\n  let accountIsBot = false;\r\n  let accountIsOwner = false;\r\n\r\n  let renderedPost = document.createElement('blockquote');\r\n  let renderedPostHTML = '';\r\n\r\n  if (postIsDeleted && ftf_fediverse_embeds.config.deleted_posts === 'redact'){\r\n    post.post_data.account = {};\r\n  }  \r\n\r\n  if (ftf_fediverse_embeds.config.show_post_labels && post.post_data.account.roles){\r\n    const accountRoles = post.post_data.account.roles.map(role => role.name);\r\n    if (accountRoles.includes('Owner')){\r\n      accountIsOwner = true;\r\n      postHasLabels = true;\r\n    }\r\n  }\r\n\r\n  if (post.post_data.account.bot){\r\n    accountIsBot = true;\r\n    postHasLabels = true;\r\n  }\r\n\r\n  if (post.__status){\r\n    if (post.__status === 'deleted'){\r\n      postIsDeleted = true;\r\n      postHasLabels = true;\r\n    }\r\n  }\r\n\r\n  if (postIsDeleted && ftf_fediverse_embeds.config.deleted_posts === 'hide'){\r\n    renderedPost.className = `fediverse-post fediverse-post-deleted`;\r\n\r\n    renderedPostHTML += /*html*/ `\r\n    <div\r\n      data-instance=\"$instance\"\r\n      data-post-id=\"$post_id\"\r\n      class=\"ftf-fediverse-post-embed-removed\"\r\n    >\r\n      <p>This post by @${ post.post_data.account.username}@${ post.instance } was removed.</p>\r\n    </div>\r\n    `;\r\n  } else {\r\n    renderedPost.className = `fediverse-post fediverse-post-rendered w-100 mt-4 mb-4`;\r\n\r\n    if (post.post_data.edited_at){\r\n      postIsUpdated = true;\r\n      postHasLabels = true;\r\n    }\r\n  \r\n    let postText = post.post_data.content,\r\n        postUrl = post.post_data.url,\r\n        entities = null;\r\n\r\n    renderedPostHTML += /*html*/ `\r\n          <div class=\"card w-100\">\r\n            <div class=\"post-body-wrapper card-body pt-4 pb-0\">\r\n              <div class=\"fediverse-post-labels position-absolute top-0 end-0 mt-1 me-1\">\r\n        `;\r\n  \r\n    if (post.post_data.emojis){\r\n      post.post_data.emojis.forEach(emoji => {\r\n        postText = postText.replaceAll(`:${emoji.shortcode}:`, `<img class=\"fediverse-post-emoji\" src=\"${window.ftf_fediverse_embeds.blog_url}/wp-json/ftf/media-proxy?url=${ window.btoa(emoji.url) }\" />`);\r\n      })\r\n    }\r\n  \r\n    if (postHasLabels){\r\n      renderedPostHTML += /*html*/ `<span class=\"badge rounded-pill text-bg-light\">`;\r\n  \r\n      if (postIsUpdated){\r\n        renderedPostHTML += /*html*/ `\r\n        <span\r\n          class=\"p-0\"\r\n          title=\"This post was updated.\"\r\n          aria-label=\"Updated post\"\r\n        >üìù</span>\r\n      `\r\n      }\r\n      if (postIsDeleted){\r\n        renderedPostHTML += /*html*/ `\r\n        <span\r\n          class=\"p-0\"\r\n          title=\"This post was deleted.\"\r\n          aria-label=\"Deleted post\"\r\n        >üóëÔ∏è</span>\r\n      `\r\n      }\r\n  \r\n      if (accountIsBot){\r\n        renderedPostHTML += /*html*/ `\r\n        <span\r\n          class=\"p-0\"\r\n          title=\"This is a bot account.\"\r\n          aria-label=\"Bot account\"\r\n        >ü§ñ</span>\r\n      `\r\n      }\r\n  \r\n      if (accountIsOwner){\r\n        renderedPostHTML += /*html*/ `\r\n        <span\r\n          class=\"p-0\"\r\n          title=\"This is an admin account.\"\r\n          aria-label=\"Admin account\"\r\n        >üëë</span>\r\n      `\r\n      }\r\n  \r\n      renderedPostHTML += /*html*/ `</span>`;\r\n    }\r\n          \r\n    renderedPostHTML += /*html*/ `\r\n      </div>\r\n      <div class=\"card-text\">\r\n      <div class=\"row no-gutters mb-1\">\r\n    `;\r\n  \r\n    // console.log('debug:post', post);\r\n   \r\n    if (post.post_data.account.avatar_static){\r\n      if (postIsDeleted && ftf_fediverse_embeds.config.deleted_posts === 'redact'){\r\n        // noop\r\n      } else {\r\n        renderedPostHTML += /*html*/ `\r\n        <div class=\"fediverse-post-profile-image-wrapper col-2 col-sm-2 col-md-2 p-2 pt-0 ps-sm-1 pe-sm-1 ps-md-2 pe-md-1 ps-lg-3 pe-lg-1\">\r\n          <a href=\"${ post.post_data.account.url }\" class=\"text-decoration-none\">\r\n            <img\r\n              title=\"Profile image\"\r\n              alt=\"Profile image of @${ post.post_data.account.display_name || post.post_data.account.username }\"\r\n              loading=\"lazy\"\r\n              class=\"post-author-image rounded-circle border\"\r\n              width=\"48\"\r\n              height=\"48\"\r\n              src=\"${window.ftf_fediverse_embeds.blog_url}/wp-json/ftf/media-proxy?url=${ window.btoa(post.post_data.account.avatar_static) }\"\r\n            >\r\n          </a>\r\n        </div>`;\r\n      }\r\n    }\r\n  \r\n    if (postIsDeleted && ftf_fediverse_embeds.config.deleted_posts === 'redact'){\r\n      renderedPostHTML += /*html*/ `\r\n      <div class=\"post-authorcol-12 col-sm-12 col-md-12 pb-3\">\r\n        <p class=\"font-weight-bold mb-0 mt-0\"></p>\r\n      </div>\r\n    `;\r\n    } else {\r\n      renderedPostHTML += /*html*/ `\r\n      <div class=\"post-author ${ \r\n        post.post_data.account.avatar_static ? 'col-10 col-sm-10 col-md-10 pl-2' : 'col-12 col-sm-12 col-md-12'\r\n      } pb-3\">\r\n        <p class=\"font-weight-bold mb-0 mt-0\">\r\n          <a\r\n            class=\"text-dark text-decoration-none\"\r\n            href=\"${ post.post_data.account.url }\"\r\n          >${ post.post_data.account.display_name }</a>\r\n        </p>\r\n        <p class=\"mb-1 mb-md-2 mt-0 fs-6\">\r\n          <a class=\"text-muted text-decoration-none\" href=\"${ post.post_data.account.url }\">\r\n            @${ post.post_data.account.username}@${ post.instance }\r\n          </a>\r\n        </p>\r\n      </div>\r\n    `;\r\n    }\r\n  \r\n    renderedPostHTML += /*html*/ `\r\n    </div>\r\n    <div class=\"post-body\">`;\r\n  \r\n    if (post.post_data.card){\r\n      // console.log('debug:post.post_data.card', post.post_data.card);\r\n    }\r\n    \r\n    if (post.post_data.media_attachments && post.post_data.media_attachments.length){\r\n      postText += /*html*/ `<div data-media-length=\"${ post.post_data.media_attachments.length }\" class=\"post-media row mt-3 no-gutters\">`;\r\n      \r\n      post.post_data.media_attachments.forEach((media, index) => {\r\n        // console.log('debug:media', media);\r\n  \r\n        if (post.post_data.media_attachments.length === 1){\r\n          postText += /*html*/ `<div data-media-type=\"${ media.type }\" class=\"position-relative text-center col-sm-12 col-md-12 col-lg-12\">`;\r\n        } else if (post.post_data.media_attachments.length === 3){\r\n          if (index === 2){\r\n            postText += /*html*/ `<div data-media-type=\"${ media.type }\" class=\"position-relative text-center col-sm-12 col-md-12 col-lg-12\">`;\r\n          } else {\r\n            postText += /*html*/ `<div data-media-type=\"${ media.type }\" class=\"position-relative text-center col-sm-12 col-md-6 col-lg-6\">`;\r\n          }\r\n        } else if (post.post_data.media_attachments.length > 1 && post.post_data.media_attachments.length < 5){\r\n          postText += /*html*/ `<div data-media-type=\"${ media.type }\" class=\"position-relative text-center col-sm-12 col-md-6 col-lg-6\">`;\r\n        } else {\r\n          postText += /*html*/ `<div data-media-type=\"${ media.type }\" class=\"position-relative text-center col-sm-12 col-md-3 col-lg-3\">`;\r\n        }\r\n\r\n        const altText = (media.alt_text || media.description || '').replace(/\"/g, \"&quot;\");\r\n        let altTextBadge = \"\";\r\n\r\n        if (altText && altText.length){\r\n          altTextBadge = /* html */ `\r\n          <span\r\n            aria-hidden=\"true\"\r\n            class=\"ftf-fediverse-post-alt-text position-absolute badge rounded-pill text-bg-dark\"\r\n            title=\"${altText}\"\r\n          >\r\n            ALT\r\n          </span>\r\n          `;\r\n        }        \r\n\r\n        \r\n        if (media.type === 'gifv'){\r\n          postText += /*html*/ `<video class=\"w-100 mt-0\" controls loop>\r\n            <source src=\"${window.ftf_fediverse_embeds.blog_url}/wp-json/ftf/media-proxy?url=${ window.btoa(media.url) }\" type=\"video/mp4\">\r\n          </video>\r\n          ${altTextBadge}\r\n          `;\r\n  \r\n          // <source src=\"${ media.url }\" type=\"video/mp4\">\r\n          // <source src=\"${window.ftf_fediverse_embeds.blog_url}/wp-json/ftf/media-proxy?url=${ window.btoa(media.url) }\" type=\"video/mp4\">\r\n        } else if (media.type === 'video'){\r\n          if (media.url){\r\n            // src=\"${window.ftf_fediverse_embeds.blog_url}/wp-json/ftf/media-proxy?url=${ window.btoa(media.url) }\"\r\n            // src=\"${ media.url }\"\r\n  \r\n            postText += /*html*/ `<video class=\"w-100 mt-0\" controls loop>\r\n              <source\r\n                src=\"${window.ftf_fediverse_embeds.blog_url}/wp-json/ftf/media-proxy?url=${ window.btoa(media.url) }\"\r\n                type=\"video/mp4\"\r\n              >\r\n              </video>\r\n              ${altTextBadge}              \r\n              `\r\n          }\r\n        } else if (media.type === 'audio'){\r\n          if (media.url){\r\n            // src=\"${window.ftf_fediverse_embeds.blog_url}/wp-json/ftf/media-proxy?url=${ window.btoa(media.url) }\"\r\n            // src=\"${ media.url }\"\r\n  \r\n            postText += /*html*/ `\r\n              <audio\r\n                controls\r\n                src=\"${window.ftf_fediverse_embeds.blog_url}/wp-json/ftf/media-proxy?url=${ window.btoa(media.url) }\"\r\n                class=\"w-100 mt-3 mb-3\"\r\n              ></audio>\r\n            `;\r\n          }\r\n  \r\n        } else if (media.type === 'image'){\r\n          // console.log(\"debug:media\", media);\r\n          postText += /*html*/ `<a href=\"${ postUrl }\" target=\"_blank\">\r\n            <img\r\n              alt=\"${ altText }\"\r\n              loading=\"lazy\"\r\n              width=\"${ media.width }\"\r\n              height=\"${ media.height }\"\r\n              class=\"w-100 rounded border mb-3\"\r\n              src=\"${window.ftf_fediverse_embeds.blog_url}/wp-json/ftf/media-proxy?url=${ window.btoa(media.url) }\"\r\n            >\r\n            ${altTextBadge}\r\n         </a> \r\n          `;\r\n        }\r\n        \r\n        postText += /*html*/ '</div>';\r\n      });\r\n      \r\n      postText += /*html*/ '</div>';\r\n    } else if (post.post_data.card){\r\n      let cardSource;\r\n  \r\n      if (post.post_data.card.url){\r\n        cardSource = (new URL(post.post_data.card.url));\r\n        cardSource = cardSource.hostname;\r\n      }\r\n  \r\n      if (post.post_data.card.html){\r\n        postText += /*html*/ `<div class=\"ratio ratio-16x9\">${ post.post_data.card.html}</div>`;\r\n      } else if (post.post_data.card.image){\r\n        postText += /*html*/ `\r\n        <div class=\"card mb-4\">\r\n          <a href=\"${ post.post_data.card.url }\">\r\n            <img src=\"${window.ftf_fediverse_embeds.blog_url}/wp-json/ftf/media-proxy?url=${ window.btoa(post.post_data.card.image) }\" class=\"card-img-top\" alt=\"...\">\r\n          </a>\r\n          <div class=\"card-body pb-1\">\r\n            <h5 class=\"card-title\">\r\n              <a href=\"${ post.post_data.card.url }\">\r\n                ${ post.post_data.card.title }\r\n              </a>\r\n            </h5>\r\n            <p class=\"card-text\"><small>${ post.post_data.card.description }</small></p>\r\n          </div>\r\n          <div class=\"card-footer pb-3 pt-0\">\r\n            <small class=\"text-muted\">\r\n              ${ cardSource }\r\n            </div>\r\n        </div>\r\n        `\r\n      } else {\r\n        postText += /*html*/ `\r\n        <div class=\"card mb-4\">\r\n        <div class=\"card-body pb-1\">\r\n            <h5 class=\"card-title\">\r\n              <a href=\"${ post.post_data.card.url }\">\r\n                ${ post.post_data.card.title }\r\n              </a>\r\n            </h5>\r\n            <p class=\"card-text\"><small>${ post.post_data.card.description }</small></p>\r\n          </div>\r\n          <div class=\"card-footer pb-3 pt-0\">\r\n            <small class=\"text-muted\">\r\n              ${ cardSource }\r\n            </div>\r\n        </div>\r\n        `\r\n      }\r\n    }\r\n    \r\n    if (post.post_data.poll){\r\n      postText += /*html*/ '<div class=\"mt-0 post-poll-results\">';\r\n  \r\n      if (post.post_data.poll.options && post.post_data.poll.options.length){\r\n          \r\n        const voteCounts = post.post_data.poll.options.map((option) => {\r\n          return option.votes_count;\r\n        });\r\n        \r\n        const voteCountMax = Math.max(...voteCounts);\r\n        const votesTotal = voteCounts.reduce((total, num) => {\r\n          return total + num;\r\n        });\r\n        \r\n        postText += /*html*/ `<div class=\"row\">`;\r\n  \r\n        const pollOptionsCount = post.post_data.poll.options;\r\n\r\n        post.post_data.poll.options.forEach((option, index) => {\r\n          let votesPortion;\r\n          let votesPercentage;\r\n          // votesPercentage = post.post_data.poll.expired ? `${Math.round(option.votes_count/votesTotal * 100)}%` : '';\r\n\r\n          if (post.post_data.poll.multiple){\r\n            votesPercentage = `${Math.round(option.votes_count/post.post_data.poll.voters_count * 100)}%`;\r\n            votesPortion = option.votes_count/post.post_data.poll.voters_count * 100;\r\n          } else {\r\n            votesPercentage = `${Math.round(option.votes_count/votesTotal * 100)}%`;\r\n            votesPortion = option.votes_count/votesTotal * 100;\r\n          }\r\n  \r\n          postText += /*html*/ `\r\n            <div class=\"col-9\">\r\n              <p class=\"mb-2\">${ option.title }</p>\r\n            </div>\r\n            <div class=\"col-3 text-end\">\r\n              <span class=\"w-100\">${ votesPercentage }</span>\r\n            </div>\r\n            <div class=\"col-12\">\r\n              <div\r\n                class=\"progress ${ \r\n                  index === pollOptionsCount - 1 ? '' : ' mb-3 '\r\n                }\"\r\n              >\r\n                <div class=\"progress-bar ${ \r\n                  // post.post_data.poll.expired && option.votes_count === voteCountMax ? 'bg-primary' : ''\r\n                  post.post_data.poll.expired && option.votes_count === voteCountMax ? 'bg-primary' : ''\r\n                }\" \r\n                  role=\"progressbar\" \r\n                  xxxstyle=\"width: ${ post.post_data.poll.expired ? votesPortion : 0 }%\" \r\n                  xxxaria-valuenow=\"${ post.post_data.poll.expired ? votesPortion : 0 }\" \r\n                  style=\"width: ${ votesPortion }%\" \r\n                  aria-valuenow=\"${ votesPortion }\" \r\n                  aria-valuemin=\"0\" \r\n                  aria-valuemax=\"100\">\r\n                </div>\r\n              </div>\r\n            </div>\r\n        `;\r\n        });\r\n        postText += /*html*/ `<div class=\"col-12 mt-3\">\r\n          <p class=\"text-muted\">\r\n            <small>\r\n              ${ votesTotal.toLocaleString() } votes | ${ post.post_data.poll.expired ? 'Closed' : 'Open'}\r\n            </small>\r\n          </p>\r\n        </div>`;\r\n      }    \r\n  \r\n      postText += /*html*/ '</div></div>';\r\n    }\r\n    \r\n    const postDate = new Date(post.post_data.created_at);\r\n    const postDateDate = postDate.toLocaleDateString(navigator.language, { month: 'long', year: 'numeric', day: 'numeric' });\r\n    const postDateTime = postDate.toLocaleTimeString();\r\n    \r\n    let editDate, editDateText;\r\n  \r\n    if (postIsUpdated){\r\n      editDate = new Date(post.post_data.edited_at);    \r\n      const editDateDate = editDate.toLocaleDateString(navigator.language, { month: 'long', year: 'numeric', day: 'numeric' });\r\n      const editDateTime = editDate.toLocaleTimeString();\r\n      editDateText = `Updated on ${ editDateDate } at ${ editDateTime }`\r\n    }\r\n    \r\n    renderedPostHTML += /*html*/ postText + `</div>\r\n        </div>\r\n      </div>\r\n    <div class=\"card-footer pb-3\"><small>`;\r\n    \r\n    // if (!container){\r\n      if (ftf_fediverse_embeds.config.show_metrics){\r\n  \r\n        if (postIsDeleted && ftf_fediverse_embeds.config.deleted_posts === 'redact'){\r\n        } else {\r\n          renderedPostHTML += /*html*/ `\r\n          <small>\r\n            <span class=\"post-icon\" role=\"img\" aria-label=\"Reposts\">üîÅ</span>\r\n            <span class=\"text-muted\">${ post.post_data.reblogs_count.toLocaleString() }</span>\r\n            \r\n            <span class=\"post-icon\" role=\"img\" aria-label=\"Likes\">‚ù§Ô∏è</span>\r\n            <span class=\"text-muted\">${ post.post_data.favourites_count.toLocaleString() }</span>\r\n            \r\n            <span class=\"post-icon\" role=\"img\" aria-label=\"Replies\">üí¨</span>\r\n            <span class=\"text-muted\">${ post.post_data.replies_count.toLocaleString() }</span>\r\n          </small>\r\n          &centerdot; `;\r\n        }\r\n      }\r\n    // }\r\n  \r\n    if (postIsDeleted && ftf_fediverse_embeds.config.deleted_posts === 'redact'){\r\n      renderedPostHTML += /*html*/ `\r\n      <small>\r\n        This post was deleted.\r\n      </small>\r\n    `;\r\n    } else {\r\n      renderedPostHTML += /*html*/ `<a class=\"text-muted\" href=\"${ postUrl }\" target=\"_blank\">\r\n        <small title=\"${ editDate ? editDateText : '' }\">\r\n          ${ postDateDate } at ${ postDateTime }${ editDate ? '*' :'' }\r\n        </small>\r\n      </a>`;\r\n    }\r\n    \r\n    renderedPostHTML += /*html*/ '</small></div></div>';\r\n  }\r\n\r\n  renderedPost.innerHTML = renderedPostHTML;\r\n  \r\n  let lastUrl = '';\r\n  \r\n  if (post.entities && post.entities.urls && post.entities.urls.length){\r\n    lastUrl = post.entities.urls[post.entities.urls.length - 1];\r\n  }\r\n  \r\n  if ((post.post_data.media_attachments && post.post_data.media_attachments.length) || post.extended_entities && post.extended_entities.media && post.extended_entities.media.length){\r\n    lastUrl = '';\r\n  }\r\n  \r\n  if (lastUrl){\r\n    renderedPost.dataset.urlAttachment = lastUrl.expanded_url;\r\n    renderedPost.dataset.urlAttachmentProcessed = 'false';\r\n  }\r\n  \r\n  if (container){\r\n    const postContainer = container.querySelector('.post-body a:last-of-type');\r\n    container.parentNode.replaceChild(renderedPost, container);\r\n  } else {\r\n    const post = document.querySelector(`[data-post-id=\"${ post.id }\"]`);\r\n    post.parentNode.replaceChild(renderedPost, post);\r\n  }\r\n\r\n  return renderedPost;\r\n};\r\n\r\nexport { renderPost };\r\n"],"mappings":"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"}